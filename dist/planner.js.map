{"version":3,"file":"planner.js","mappings":";;;;;;;;;;;;;;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACRO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,aAAa,cAAc;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,QAAQ,uFAAuF;AACtI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrJA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ,EAAE,MAAM,EAAE,OAAO;AAC3C;AACA;AACA;;;;;;;;;;;;;;;;ACfwD;AACF;AAC/C;AACP;AACA,gCAAgC,gEAAe;AAC/C,2BAA2B,+DAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACrBA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACqE;AACtB;AACR;AAChC;AACP;AACA,gCAAgC,wDAAY;AAC5C;AACA,gCAAgC,6EAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,iCAAiC,gDAAQ;AACzC,uCAAuC,gDAAQ;AAC/C,uCAAuC,gDAAQ;AAC/C,qCAAqC,gDAAQ;AAC7C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5FO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACvBmD;AACN;AACtC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,2DAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,sDAAW;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC7DqD;AACD;AAC7C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iEAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA,uBAAuB,GAAG;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iEAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,aAAa;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iEAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gEAAY;AACxC,yCAAyC;AACzC,oCAAoC,YAAY;AAChD,qCAAqC,wBAAwB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACnJyD;AACM;AACO;AACL;AACF;AACxD;AACP;AACA,4BAA4B,kEAAgB;AAC5C,+BAA+B,wEAAmB;AAClD,kCAAkC,+EAAsB;AACxD,gCAAgC,0EAAoB;AACpD,+BAA+B,wEAAmB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC1BgD;AACD;AACxC;AACP;AACA;AACA;AACA;AACA,4BAA4B,yDAAY;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,wDAAY;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACtCkD;AAC3C;AACP;AACA,oBAAoB,8DAAc;AAClC,oDAAoD,8BAA8B;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxBA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACxC6C;AACtC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sDAAW;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/CO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1BO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACVA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACkD;AAC3C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,uCAAuC,2DAAa,SAAS,2DAAa;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,MAAM;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,2DAAa;AAClE;AACA,SAAS;AACT,oCAAoC,2DAAa,YAAY,2DAAa,cAAc,eAAe;AACvG,oCAAoC,2DAAa,gBAAgB,2DAAa,kBAAkB,eAAe;AAC/G,oCAAoC,2DAAa,aAAa,2DAAa,eAAe,eAAe;AACzG;AACA;AACA;;;;;;;;;;;;;;;AC7EA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACkD;AAC3C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,2DAAa;AAC5D,kDAAkD,2DAAa;AAC/D;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qDAAqD,KAAK;AAC1D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qDAAqD,MAAM;AAC3D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,yDAAyD,QAAQ;AACjE;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,oDAAoD,2DAAa;AACjE,kDAAkD,2DAAa;AAC/D;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,oDAAoD,2DAAa;AACjE,kDAAkD,2DAAa;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;;;;;AC5HA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACkD;AACI;AACJ;AAC3C;AACP;AACA;AACA;AACA,iCAAiC,+DAAe;AAChD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,2DAAa;AAChC,SAAS;AACT;AACA;AACA;AACA,oDAAoD,2DAAa;AACjE,kDAAkD,2DAAa;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,2DAAa;AAC1D;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;;;AC9CkD;AAC3C;AACP;AACA;AACA;AACA;AACA,wBAAwB,8DAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACjBkD;AAClD;AACA;AACA,4BAA4B,8DAAc;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,oBAAoB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,8DAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1EA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC1CA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC2C;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oDAAU;AAC7C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,oDAAU;AACjD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;UCnCA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACwF;AAC3B;AACP;AAC8B;AACpF;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,eAAe,eAAe;AACtF,0IAA0I;AAC1I;AACA;AACA,8BAA8B,+DAAa;AAC3C,iCAAiC,sEAAgB;AACjD;AACA;AACA;AACA,iCAAiC,6FAAqB;AACtD;AACA,wBAAwB,iGAA0B;AAClD;AACA,KAAK;AACL;AACA;AACA,gC","sources":["webpack:///../build/common/basic_point.js","webpack:///../build/common/common.js","webpack:///../build/common/linked_list.js","webpack:///../build/common/text_width.js","webpack:///../build/eisenhower/base_task_zone_data.js","webpack:///../build/eisenhower/eisenhower_matrix_task_editor.js","webpack:///../build/eisenhower/indexed_tasks.js","webpack:///../build/eisenhower/task_drop_zone.js","webpack:///../build/eisenhower/task_element.js","webpack:///../build/eisenhower/task_zone.js","webpack:///../build/eisenhower/task_zone_drop_handler.js","webpack:///../build/eisenhower/task_zone_element.js","webpack:///../build/eisenhower/task_zone_new_task_handler.js","webpack:///../build/eisenhower/task_zone_task_inserter.js","webpack:///../build/eisenhower/task_zone_task_remover.js","webpack:///../build/eisenhower/threshold_box.js","webpack:///../build/indexed_db_tasks/indexed_db_data.js","webpack:///../build/indexed_db_tasks/indexed_db_opener.js","webpack:///../build/indexed_db_tasks/indexed_db_task.js","webpack:///../build/indexed_db_tasks/indexed_db_task_provider.js","webpack:///../build/misc/github_page_opener.js","webpack:///../build/misc/style_switcher.js","webpack:///../build/tasks/cached_task.js","webpack:///../build/tasks/caching_task_provider.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///../build/main.js"],"sourcesContent":["export class BasicPoint {\n    constructor(x, y) {\n        this.x = 0;\n        this.y = 0;\n        this.x = x;\n        this.y = y;\n    }\n}\n//# sourceMappingURL=basic_point.js.map","export function getElementById(id) {\n    const element = document.getElementById(id);\n    if (element === null || element === undefined) {\n        throw new MediaError;\n    }\n    return element;\n}\nclass TemplateCloner {\n    constructor() {\n        this.cachedTemplates = new Map;\n    }\n    cloneTemplateById(templateId) {\n        const template = this.getTemplate(templateId);\n        return this.cloneTemplate(template);\n    }\n    getTemplate(templateId) {\n        if (this.cachedTemplates.has(templateId)) {\n            return this.getTemplateFromCache(templateId);\n        }\n        else {\n            return this.getAndCacheTemplateFromDocument(templateId);\n        }\n    }\n    getTemplateFromCache(templateId) {\n        return this.cachedTemplates.get(templateId);\n    }\n    getAndCacheTemplateFromDocument(templateId) {\n        const template = getElementById(templateId);\n        this.cachedTemplates.set(templateId, template);\n        return template;\n    }\n    cloneTemplate(template) {\n        const clone = template.cloneNode(true);\n        clone.id = \"\";\n        clone.classList.remove(TemplateCloner.templateClass);\n        return clone;\n    }\n}\nTemplateCloner.templateClass = \"template\";\nvar templateCloner = new TemplateCloner;\nexport function cloneTemplateById(id) {\n    return templateCloner.cloneTemplateById(id);\n}\n//# sourceMappingURL=common.js.map","class LinkedListItem {\n    constructor(value) {\n        this.value = value;\n    }\n    getNext() {\n        return this.next;\n    }\n    setNext(next) {\n        this.next = next;\n    }\n    insertAfterSelf(next) {\n        next.setNext(this.next);\n        this.next = next;\n    }\n    getValue() {\n        return this.value;\n    }\n    contains(value) {\n        return this.value == value;\n    }\n}\nexport class BasicLinkedList {\n    constructor() {\n        this.head = undefined;\n    }\n    pushBack(value) {\n        var _a;\n        const newItem = new LinkedListItem(value);\n        if (this.head === undefined) {\n            this.head = newItem;\n        }\n        else {\n            (_a = this.getBackItem()) === null || _a === void 0 ? void 0 : _a.setNext(newItem);\n        }\n    }\n    pushFront(value) {\n        const newItem = new LinkedListItem(value);\n        this.insertAsFirst(newItem);\n    }\n    pop(value) {\n        var _a;\n        if ((_a = this.head) === null || _a === void 0 ? void 0 : _a.contains(value)) {\n            this.popFront();\n        }\n        else {\n            this.popFromNotFirst(value);\n        }\n    }\n    popFront() {\n        var _a;\n        this.head = (_a = this.head) === null || _a === void 0 ? void 0 : _a.getNext();\n    }\n    popFromNotFirst(value) {\n        const prev = this.findItemWithNextValue(value);\n        const removed = prev === null || prev === void 0 ? void 0 : prev.getNext();\n        prev === null || prev === void 0 ? void 0 : prev.setNext(removed === null || removed === void 0 ? void 0 : removed.getNext());\n    }\n    clear() {\n        this.head = undefined;\n    }\n    front() {\n        var _a;\n        return (_a = this.head) === null || _a === void 0 ? void 0 : _a.getValue();\n    }\n    back() {\n        var _a;\n        return (_a = this.getBackItem()) === null || _a === void 0 ? void 0 : _a.getValue();\n    }\n    getBackItem() {\n        let last = undefined;\n        this.forEachItem(item => { last = item; return true; });\n        return last;\n    }\n    contains(value) {\n        return this.findItemWithValue(value) !== undefined;\n    }\n    insertAfter(value, after) {\n        const newItem = new LinkedListItem(value);\n        const item = this.findItemWithValue(after);\n        item === null || item === void 0 ? void 0 : item.insertAfterSelf(newItem);\n    }\n    insertBefore(value, before) {\n        const newItem = new LinkedListItem(value);\n        if (this.head === undefined || this.head.contains(before)) {\n            this.insertAsFirst(newItem);\n        }\n        else {\n            this.insertBeforeNotFirst(newItem, before);\n        }\n    }\n    insertAsFirst(newItem) {\n        newItem.setNext(this.head);\n        this.head = newItem;\n    }\n    insertBeforeNotFirst(newItem, before) {\n        let prev = this.findItemWithNextValue(before);\n        prev === null || prev === void 0 ? void 0 : prev.insertAfterSelf(newItem);\n    }\n    findItemWithValue(value) {\n        return this.findItem(item => item.contains(value));\n    }\n    findItemWithNextValue(value) {\n        return this.findItem(item => { var _a; return (_a = item.getNext()) === null || _a === void 0 ? void 0 : _a.contains(value); });\n    }\n    findItem(condition) {\n        let foundItem = undefined;\n        this.forEachItem((item) => {\n            if (condition(item)) {\n                foundItem = item;\n                return false;\n            }\n            return true;\n        });\n        return foundItem;\n    }\n    forEach(callbackfn) {\n        this.forEachItem(item => callbackfn(item.getValue()));\n    }\n    forEachItem(callbackfn) {\n        if (this.head === undefined)\n            return;\n        this.doForEachItem(callbackfn);\n    }\n    doForEachItem(callbackfn) {\n        let item = this.head;\n        do {\n            const cont = callbackfn(item);\n            if (cont === false)\n                break;\n            item = item.getNext();\n        } while (item);\n    }\n    iterate() {\n        return new BasicLinkedListIterator(this.head);\n    }\n}\nclass BasicLinkedListIterator {\n    constructor(head) {\n        this.current = head;\n    }\n    hasNext() {\n        return this.current !== undefined;\n    }\n    getNext() {\n        const value = this.current.getValue();\n        this.current = this.current.getNext();\n        return value;\n    }\n}\n//# sourceMappingURL=linked_list.js.map","// with help from https://stackoverflow.com/a/21015393/8665933\nvar testingCanvas = document.createElement('canvas');\nexport function getTextWidth(text, styledElement) {\n    let ctx = testingCanvas.getContext('2d');\n    ctx.font = getFont(styledElement);\n    return ctx.measureText(text).width;\n}\nfunction getFont(elem) {\n    let css = window.getComputedStyle(elem);\n    let weight = css.getPropertyValue('font-weight');\n    let size = css.getPropertyValue('font-size');\n    let family = css.getPropertyValue('font-family');\n    let font = `${weight} ${size} ${family}`;\n    return font;\n}\n//# sourceMappingURL=text_width.js.map","import { BasicLinkedList } from \"../common/linked_list\";\nimport { TaskZoneElement } from \"./task_zone_element\";\nexport class BaseTaskZoneData {\n    constructor(taskBoxElementId, category) {\n        this.orderedTasks = new BasicLinkedList;\n        this.element = new TaskZoneElement(taskBoxElementId);\n        this.category = category;\n    }\n    getCategory() {\n        return this.category;\n    }\n    getElement() {\n        return this.element;\n    }\n    getContents() {\n        return this.getElement().getContents();\n    }\n    getTasks() {\n        return this.orderedTasks;\n    }\n}\n//# sourceMappingURL=base_task_zone_data.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { CachingTaskProvider } from \"../tasks/caching_task_provider\";\nimport { IndexedTasks } from \"./indexed_tasks\";\nimport { TaskZone } from \"./task_zone\";\nexport class EisenhowerMatrixTaskEditor {\n    constructor(taskProvider) {\n        this.managedTasks = new IndexedTasks;\n        this.zones = new Map;\n        this.taskProvider = new CachingTaskProvider(taskProvider);\n    }\n    restoreTasks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.initTasks();\n            this.initZones();\n            this.displayInitializedTasks();\n        });\n    }\n    initTasks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tasks = yield this.taskProvider.restoreTasks();\n            this.indexRestoredTasks(tasks);\n        });\n    }\n    indexRestoredTasks(tasks) {\n        tasks.forEach((task) => {\n            this.managedTasks.addTask(task);\n        });\n    }\n    initZones() {\n        this.zones.set('do', new TaskZone(\"task_zone_do\", 'do'));\n        this.zones.set('schedule', new TaskZone(\"task_zone_schedule\", 'schedule'));\n        this.zones.set('delegate', new TaskZone(\"task_zone_delegate\", 'delegate'));\n        this.zones.set('delete', new TaskZone(\"task_zone_delete\", 'delete'));\n        this.zones.forEach((zone) => {\n            this.addCategoryChangeProvider(zone.getCatChangeProvider());\n            this.addNewTaskProvider(zone.getNewTaskProvider());\n        });\n    }\n    displayInitializedTasks() {\n        this.managedTasks.forEach((task, index) => {\n            this.displayTask(task, index);\n        });\n    }\n    displayTask(task, index) {\n        const zone = this.zones.get(task.getSection());\n        zone === null || zone === void 0 ? void 0 : zone.addTask(index, task);\n    }\n    addCategoryChangeProvider(catChangeProvider) {\n        catChangeProvider.setCategoryChangeCallback((taskId, newCat, newIndex) => this.changeTaskCategory(taskId, newCat, newIndex));\n    }\n    addNewTaskProvider(newTaskProvider) {\n        newTaskProvider.setInitializeTaskCallback(() => this.initTaskCallback());\n        newTaskProvider.setFinalizeTaskCallback(task => this.finalizeTaskCallback(task));\n    }\n    changeTaskCategory(taskId, newCategory, newIndex) {\n        const task = this.managedTasks.getTask(taskId);\n        this.removeTaskFromZone(taskId, task.getSection());\n        this.incrementIndicesToFreeSpaceForInsertedTask(newCategory, newIndex);\n        task.setSection(newCategory);\n        task.setOrderIndex(newIndex);\n        console.log(`New index: ${newIndex}`);\n        this.displayTask(task, taskId);\n    }\n    incrementIndicesToFreeSpaceForInsertedTask(category, startIndex) {\n        this.managedTasks.forEach((task) => {\n            if (task.getSection() === category && task.getOrderIndex() >= startIndex) {\n                task.setOrderIndex(task.getOrderIndex() + 1);\n            }\n        });\n    }\n    removeTaskFromZone(taskId, section) {\n        var _a;\n        (_a = this.zones.get(section)) === null || _a === void 0 ? void 0 : _a.removeTask(taskId);\n    }\n    initTaskCallback() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.taskProvider.createNewTask();\n        });\n    }\n    finalizeTaskCallback(task) {\n        const id = this.managedTasks.addTask(task);\n        this.displayTask(task, id);\n    }\n}\n//# sourceMappingURL=eisenhower_matrix_task_editor.js.map","export class IndexedTasks {\n    constructor() {\n        this.tasks = new Map;\n        this.lastTaskIndex = 0;\n    }\n    addTask(task) {\n        const newTaskIndex = ++this.lastTaskIndex;\n        this.tasks.set(newTaskIndex, task);\n        return newTaskIndex;\n    }\n    getTask(index) {\n        return this.tryGetTask(index);\n    }\n    tryGetTask(index) {\n        return this.tasks.get(index);\n    }\n    removeTask(index) {\n        this.tasks.delete(index);\n    }\n    forEach(callbackfn) {\n        this.tasks.forEach(callbackfn);\n    }\n}\n//# sourceMappingURL=indexed_tasks.js.map","import { BasicPoint } from \"../common/basic_point\";\nimport { TaskElement } from \"./task_element\";\nexport class TaskDropZone {\n    constructor(element) {\n        this.reportTaskDrop = () => { };\n        this.reportTaskEnter = () => { };\n        this.reportTaskLeave = () => { };\n        this.element = element;\n        this.setupEvents();\n    }\n    onTaskDrop(callbackfn) {\n        this.reportTaskDrop = callbackfn;\n    }\n    onTaskEnter(callbackfn) {\n        this.reportTaskEnter = callbackfn;\n    }\n    onTaskLeave(callbackfn) {\n        this.reportTaskLeave = callbackfn;\n    }\n    getElement() {\n        return this.element;\n    }\n    setupEvents() {\n        this.element.addEventListener('dragover', ev => this.handleDragover(ev));\n        this.element.addEventListener('dragend', ev => this.handleDragend(ev));\n        this.element.addEventListener('dragleave', ev => this.handleDragend(ev));\n        this.element.addEventListener('drop', ev => this.handleDrop(ev));\n    }\n    handleDragover(event) {\n        event.preventDefault();\n        const taskId = this.getTaskId(event);\n        if (taskId !== undefined) {\n            this.reportTaskEnter();\n        }\n    }\n    handleDrop(event) {\n        event.preventDefault();\n        const taskId = this.getTaskId(event);\n        if (taskId === undefined)\n            return;\n        const dropPos = new BasicPoint(event.pageX, event.pageY);\n        this.reportTaskDrop(taskId, dropPos);\n    }\n    handleDragend(event) {\n        event.preventDefault();\n        const taskId = this.getTaskId(event);\n        if (taskId !== undefined) {\n            this.reportTaskLeave();\n        }\n    }\n    getTaskId(event) {\n        var _a;\n        const message = (_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.getData(TaskElement.taskDragType);\n        if (message === undefined)\n            return undefined;\n        const droppedTaskId = parseInt(message);\n        if (isNaN(droppedTaskId))\n            return undefined;\n        return droppedTaskId;\n    }\n}\n//# sourceMappingURL=task_drop_zone.js.map","import { cloneTemplateById } from \"../common/common\";\nimport { getTextWidth } from \"../common/text_width\";\nexport class TaskElement {\n    constructor(id, task) {\n        this.id = id;\n        this.task = task;\n        this.element = this.generateElement();\n        const stateInfo = this.generateTaskElementStateInfo();\n        this.switchToState(new DisplayedTaskElement(stateInfo));\n    }\n    generateElement() {\n        const newElement = cloneTemplateById(TaskElement.taskTemplateId);\n        newElement.id = this.getElementIdForTask(this.id);\n        newElement.addEventListener('dblclick', ev => this.handleDblclick(ev));\n        return newElement;\n    }\n    getElementIdForTask(id) {\n        return `task_${id}`;\n    }\n    handleDblclick(event) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n    getId() {\n        return this.id;\n    }\n    getElement() {\n        return this.element;\n    }\n    getTask() {\n        return this.task;\n    }\n    remove() {\n        this.element.remove();\n    }\n    generateTaskElementStateInfo() {\n        return new TaskElemStateInfo(this.id, this.task, this.element);\n    }\n    switchToState(state) {\n        this.state = state;\n        this.state.setSwitchStateCallback(state => this.switchToState(state));\n    }\n}\nTaskElement.taskTemplateId = \"task_template\";\nTaskElement.taskDragType = \"taskid\";\nclass TaskElemStateInfo {\n    constructor(id, task, root) {\n        this.id = id;\n        this.task = task;\n        this.root = root;\n    }\n}\nclass TaskElementState {\n    constructor(taskElemInfo) {\n        this.switchToState = () => { };\n        this.taskElemInfo = taskElemInfo;\n        this.getRoot().innerHTML = \"\";\n    }\n    getId() {\n        return this.taskElemInfo.id;\n    }\n    getRoot() {\n        return this.taskElemInfo.root;\n    }\n    getTask() {\n        return this.taskElemInfo.task;\n    }\n    getElemInfo() {\n        return this.taskElemInfo;\n    }\n    setSwitchStateCallback(callbackfn) {\n        this.switchToState = callbackfn;\n    }\n}\nclass DisplayedTaskElement extends TaskElementState {\n    constructor(taskElemInfo) {\n        super(taskElemInfo);\n        this.element = this.constructElement();\n        this.setupEvents();\n    }\n    constructElement() {\n        const element = cloneTemplateById(DisplayedTaskElement.displayTemplateId);\n        element.innerText = this.getTask().getName();\n        this.getRoot().appendChild(element);\n        return element;\n    }\n    setupEvents() {\n        this.element.addEventListener('dragstart', ev => this.handleDragstart(ev));\n        this.element.addEventListener('dblclick', ev => this.handleDblclick(ev));\n    }\n    handleDragstart(event) {\n        if (event.dataTransfer) {\n            event.dataTransfer.setData(TaskElement.taskDragType, `${this.getId()}`);\n            event.dataTransfer.dropEffect = \"move\";\n        }\n    }\n    handleDblclick(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.switchToState(new EditedTaskElement(this.getElemInfo()));\n    }\n}\nDisplayedTaskElement.displayTemplateId = \"task_display_template\";\nclass EditedTaskElement extends TaskElementState {\n    constructor(taskElemInfo) {\n        super(taskElemInfo);\n        this.input = cloneTemplateById(EditedTaskElement.templateClassId);\n        this.input.value = this.getTask().getName();\n        this.getRoot().appendChild(this.input);\n        this.updateInputSize();\n        this.setupEvents();\n        this.input.focus();\n    }\n    setupEvents() {\n        this.input.addEventListener('keypress', ev => this.stopIfEnter(ev));\n        this.input.addEventListener('keyup', ev => this.cancelIfEscape(ev));\n        this.input.addEventListener('input', ev => this.updateInputSize());\n        this.input.addEventListener('blur', ev => this.stopEditing());\n    }\n    stopIfEnter(event) {\n        if (event.key === \"Enter\") {\n            event.preventDefault();\n            this.stopEditing();\n        }\n    }\n    cancelIfEscape(event) {\n        if (event.code === \"Escape\") {\n            event.preventDefault();\n            this.cancelEditing();\n        }\n    }\n    updateInputSize() {\n        const currentText = this.input.value;\n        const targetWidth = getTextWidth(currentText, this.input);\n        this.input.style.height = `1px`; // Reset height so that it could be reduced\n        this.input.style.width = `${targetWidth}px`;\n        this.input.style.height = `${this.input.scrollHeight}px`;\n    }\n    stopEditing() {\n        this.getTask().setName(this.input.value);\n        this.switchToState(new DisplayedTaskElement(this.getElemInfo()));\n    }\n    cancelEditing() {\n        this.switchToState(new DisplayedTaskElement(this.getElemInfo()));\n    }\n}\nEditedTaskElement.templateClassId = \"task_edit_template\";\n//# sourceMappingURL=task_element.js.map","import { BaseTaskZoneData } from \"./base_task_zone_data\";\nimport { TaskZoneDropHandler } from \"./task_zone_drop_handler\";\nimport { TaskZoneNewTaskHandler } from \"./task_zone_new_task_handler\";\nimport { TaskZoneTaskInserter } from \"./task_zone_task_inserter\";\nimport { TaskZoneTaskRemover } from \"./task_zone_task_remover\";\nexport class TaskZone {\n    constructor(taskBoxElementId, category) {\n        this.baseData = new BaseTaskZoneData(taskBoxElementId, category);\n        this.dropHandler = new TaskZoneDropHandler(this.baseData);\n        this.newTaskHandler = new TaskZoneNewTaskHandler(this.baseData);\n        this.taskInserter = new TaskZoneTaskInserter(this.baseData);\n        this.taskRemover = new TaskZoneTaskRemover(this.baseData);\n    }\n    getCatChangeProvider() {\n        return this.dropHandler;\n    }\n    getNewTaskProvider() {\n        return this.newTaskHandler;\n    }\n    addTask(id, task) {\n        this.taskInserter.addTask(id, task);\n    }\n    removeTask(id) {\n        this.taskRemover.removeTask(id);\n    }\n}\n//# sourceMappingURL=task_zone.js.map","import { TaskDropZone } from \"./task_drop_zone\";\nimport { ThresholdBox } from \"./threshold_box\";\nexport class TaskZoneDropHandler {\n    constructor(baseData) {\n        this.catChangeCallback = () => { };\n        this.data = baseData;\n        const contents = this.data.getContents();\n        this.dropZone = new TaskDropZone(contents);\n        this.setupEvents();\n    }\n    setupEvents() {\n        this.dropZone.onTaskDrop((taskId, dropPos) => this.handleTaskDrop(taskId, dropPos));\n        this.dropZone.onTaskEnter(() => this.data.getElement().highlightDropZone());\n        this.dropZone.onTaskLeave(() => this.data.getElement().dimDropZone());\n    }\n    handleTaskDrop(taskId, dropPosition) {\n        this.data.getElement().dimDropZone();\n        const droppedTaskIndex = this.getIndexForDroppedTask(dropPosition);\n        this.catChangeCallback(taskId, this.data.getCategory(), droppedTaskIndex);\n    }\n    getIndexForDroppedTask(position) {\n        const iterator = this.data.getTasks().iterate();\n        let lastIndex = 0;\n        while (iterator.hasNext()) {\n            const taskElement = iterator.getNext();\n            const taskHTMLElement = taskElement.getElement();\n            const taskThreshold = ThresholdBox.fromElement(taskHTMLElement);\n            lastIndex = taskElement.getTask().getOrderIndex();\n            if (taskThreshold.isAfter(position)) {\n                return lastIndex;\n            }\n        }\n        return lastIndex + 1;\n    }\n    setCategoryChangeCallback(callbackfn) {\n        this.catChangeCallback = callbackfn;\n    }\n}\n//# sourceMappingURL=task_zone_drop_handler.js.map","import { getElementById } from \"../common/common\";\nexport class TaskZoneElement {\n    constructor(taskBoxElementId) {\n        this.root = getElementById(taskBoxElementId);\n        this.contents = this.root.querySelector(`.${TaskZoneElement.contentsClass}`);\n    }\n    getRoot() {\n        return this.root;\n    }\n    getContents() {\n        return this.contents;\n    }\n    highlightDropZone() {\n        this.root.classList.add(TaskZoneElement.dropHighlightClass);\n    }\n    dimDropZone() {\n        this.root.classList.remove(TaskZoneElement.dropHighlightClass);\n    }\n    addContentsEvent(type, callbackfn) {\n        this.getContents().addEventListener(type, callbackfn);\n    }\n}\nTaskZoneElement.contentsClass = \"decision_box_square_contents\";\nTaskZoneElement.dropHighlightClass = \"highlight\";\n//# sourceMappingURL=task_zone_element.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport class TaskZoneNewTaskHandler {\n    constructor(baseData) {\n        this.data = baseData;\n        this.setupEvents();\n    }\n    setupEvents() {\n        this.data.getElement().addContentsEvent('dblclick', ev => this.spawnNewTask(ev));\n    }\n    setInitializeTaskCallback(callbackfn) {\n        this.initNewTask = callbackfn;\n    }\n    setFinalizeTaskCallback(callbackfn) {\n        this.finalizeNewTask = callbackfn;\n    }\n    spawnNewTask(event) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const task = yield this.initNewTask();\n            task.setName(\"Double-click to edit!\");\n            task.setOrderIndex(this.getNextLastIndex());\n            task.setSection(this.data.getCategory());\n            this.finalizeNewTask(task);\n        });\n    }\n    getNextLastIndex() {\n        const lastTaskElement = this.data.getTasks().back();\n        if (lastTaskElement === undefined)\n            return 1;\n        else\n            return lastTaskElement.getTask().getOrderIndex() + 1;\n    }\n}\n//# sourceMappingURL=task_zone_new_task_handler.js.map","import { TaskElement } from \"./task_element\";\nexport class TaskZoneTaskInserter {\n    constructor(baseData) {\n        this.data = baseData;\n    }\n    addTask(id, task) {\n        const taskElement = this.createElementForTask(id, task);\n        this.displayTaskElement(taskElement);\n    }\n    createElementForTask(id, task) {\n        return new TaskElement(id, task);\n    }\n    displayTaskElement(taskElement) {\n        const wasInserted = this.tryInsertInMiddle(taskElement);\n        if (wasInserted === false) {\n            this.insertAtEnd(taskElement);\n        }\n    }\n    tryInsertInMiddle(taskElement) {\n        const orderIndex = taskElement.getTask().getOrderIndex();\n        const iterator = this.data.getTasks().iterate();\n        while (iterator.hasNext()) {\n            const contestedTaskElement = iterator.getNext();\n            if (this.shouldInsertBefore(orderIndex, contestedTaskElement)) {\n                this.insertBefore(taskElement, contestedTaskElement);\n                return true;\n            }\n        }\n        return false;\n    }\n    shouldInsertBefore(index, contestedTaskElement) {\n        const contestedTask = contestedTaskElement.getTask();\n        const contestedIndex = contestedTask.getOrderIndex();\n        return index < contestedIndex;\n    }\n    insertBefore(insert, before) {\n        const insertedHTMLElement = insert.getElement();\n        const beforeHTMLElement = before.getElement();\n        this.data.getContents().insertBefore(insertedHTMLElement, beforeHTMLElement);\n        this.data.getTasks().insertBefore(insert, before);\n    }\n    insertAtEnd(insert) {\n        this.data.getTasks().pushBack(insert);\n        const insertedElement = insert.getElement();\n        this.data.getContents().appendChild(insertedElement);\n    }\n}\n//# sourceMappingURL=task_zone_task_inserter.js.map","export class TaskZoneTaskRemover {\n    constructor(baseData) {\n        this.data = baseData;\n    }\n    removeTask(id) {\n        const taskElement = this.findElementWithId(id);\n        if (taskElement) {\n            taskElement.remove();\n            this.data.getTasks().pop(taskElement);\n        }\n    }\n    findElementWithId(id) {\n        const iterator = this.data.getTasks().iterate();\n        while (iterator.hasNext()) {\n            const element = iterator.getNext();\n            if (element.getId() === id) {\n                return element;\n            }\n        }\n        return undefined;\n    }\n}\n//# sourceMappingURL=task_zone_task_remover.js.map","export class ThresholdBox {\n    constructor(rect) {\n        this.rect = rect;\n    }\n    static fromElement(element) {\n        const box = element.getBoundingClientRect();\n        return new ThresholdBox(box);\n    }\n    isAfter(point) {\n        const pointIsBelow = point.y > this.rect.bottom;\n        if (pointIsBelow)\n            return false;\n        const pointIsAbove = point.y < this.rect.top;\n        if (pointIsAbove)\n            return true;\n        return this.isPointAboveDiagonal(point);\n    }\n    isPointAboveDiagonal(point) {\n        const diagonalYAtThreshX = this.getDiagonalYAtX(point.x);\n        const pointAboveDiagonal = point.y < diagonalYAtThreshX;\n        return pointAboveDiagonal;\n    }\n    getDiagonalYAtX(x) {\n        return this.rect.bottom - this.rect.height / this.rect.width * (x - this.rect.left);\n    }\n}\n//# sourceMappingURL=threshold_box.js.map","export class IndexedDbData {\n}\nIndexedDbData.dbName = \"planning_zen\";\nIndexedDbData.dbVersion = 1;\nIndexedDbData.taskObjectStoreName = \"active_tasks\";\nIndexedDbData.task = {\n    name: \"task_name\",\n    category: \"task_cat\",\n    index: \"task_index\"\n};\n//# sourceMappingURL=indexed_db_data.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { IndexedDbData } from \"./indexed_db_data\";\nexport class IndexedDbOpeningResult {\n    constructor() {\n        this.success = false;\n        this.error = \"\";\n    }\n    static success(db) {\n        const result = new IndexedDbOpeningResult;\n        result.db = db;\n        result.success = true;\n        return result;\n    }\n    static failure(reason) {\n        const result = new IndexedDbOpeningResult;\n        result.error = reason;\n        result.success = false;\n        return result;\n    }\n}\nexport class IndexedDbOpener {\n    constructor() { }\n    openDb() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                this.openIDBInPromise(resolve);\n            });\n        });\n    }\n    openIDBInPromise(resolve) {\n        const request = indexedDB.open(IndexedDbData.dbName, IndexedDbData.dbVersion);\n        request.onupgradeneeded = ev => this.getDbAndGenerateStructure(ev, resolve);\n        request.onsuccess = ev => this.getOpenedDb(ev, resolve);\n        request.onerror = ev => this.reportFailure(ev, resolve);\n    }\n    getDbAndGenerateStructure(event, resolve) {\n        const db = this.getDatabase(event);\n        if (db === undefined)\n            return;\n        this.generateDBStructure(db);\n        resolve(IndexedDbOpeningResult.success(db));\n    }\n    getOpenedDb(event, resolve) {\n        const target = event.target;\n        const db = target.result;\n        resolve(IndexedDbOpeningResult.success(db));\n    }\n    reportFailure(event, resolve) {\n        var _a;\n        const target = event.target;\n        const error = \"\" + ((_a = target === null || target === void 0 ? void 0 : target.error) === null || _a === void 0 ? void 0 : _a.message);\n        console.trace(`Failed to open IndexedDB, reason: ${error}`);\n        resolve(IndexedDbOpeningResult.failure(error));\n    }\n    getDatabase(event) {\n        if (event.target === undefined)\n            return undefined;\n        const target = event.target;\n        return target.result;\n    }\n    generateDBStructure(db) {\n        const taskObjectStore = db.createObjectStore(IndexedDbData.taskObjectStoreName, {\n            autoIncrement: true\n        });\n        taskObjectStore.createIndex(IndexedDbData.task.name, IndexedDbData.task.name, { unique: false });\n        taskObjectStore.createIndex(IndexedDbData.task.category, IndexedDbData.task.category, { unique: false });\n        taskObjectStore.createIndex(IndexedDbData.task.index, IndexedDbData.task.index, { unique: false });\n    }\n}\n//# sourceMappingURL=indexed_db_opener.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { IndexedDbData } from \"./indexed_db_data\";\nexport class IndexedDBTask {\n    constructor(db, key) {\n        this.db = db;\n        this.key = key;\n    }\n    static createNew(db) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const key = yield IndexedDBTask.createTaskObjectInDb(db);\n            return new IndexedDBTask(db, key);\n        });\n    }\n    static restoreByKey(db, key) {\n        return new IndexedDBTask(db, key);\n    }\n    static createTaskObjectInDb(db) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const transaction = db.transaction(IndexedDbData.taskObjectStoreName, \"readwrite\");\n            const store = transaction.objectStore(IndexedDbData.taskObjectStoreName);\n            const addTransaction = store.add(IndexedDBTask.newTaskData());\n            return new Promise((resolve, reject) => {\n                addTransaction.onsuccess = () => resolve(addTransaction.result.valueOf());\n                addTransaction.onerror = reject;\n            });\n        });\n    }\n    static newTaskData() {\n        return {\n            task_name: \"New task - double-click to edit\",\n            task_cat: \"unset\",\n            task_index: 0\n        };\n    }\n    getName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const object = yield this.getMyReadonlyObject();\n            return object.task_name;\n        });\n    }\n    getOrderIndex() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const object = yield this.getMyReadonlyObject();\n            return object.task_index;\n        });\n    }\n    getSection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const object = yield this.getMyReadonlyObject();\n            return object.task_cat;\n        });\n    }\n    setName(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const modifier = (object) => {\n                object.task_name = name;\n                console.log(`Setting task name to \"${name}\"`);\n            };\n            return this.modifyMyObject(modifier);\n        });\n    }\n    setOrderIndex(index) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const modifier = (object) => {\n                object.task_index = index;\n                console.log(`Setting task index to ${index}`);\n            };\n            return this.modifyMyObject(modifier);\n        });\n    }\n    setSection(section) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const modifier = (object) => {\n                object.task_cat = section;\n                console.log(`Setting task category to \"${section}\"`);\n            };\n            return this.modifyMyObject(modifier);\n        });\n    }\n    getMyReadonlyObject() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const transaction = this.db.transaction(IndexedDbData.taskObjectStoreName, \"readonly\");\n            const store = transaction.objectStore(IndexedDbData.taskObjectStoreName);\n            const readTransaction = store.get(IDBKeyRange.only(this.key));\n            return new Promise((resolve, reject) => {\n                readTransaction.onsuccess = () => resolve(readTransaction.result);\n                readTransaction.onerror = reject;\n            });\n        });\n    }\n    modifyMyObject(modify) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const transaction = this.db.transaction(IndexedDbData.taskObjectStoreName, \"readwrite\");\n            const store = transaction.objectStore(IndexedDbData.taskObjectStoreName);\n            const validKeyGetter = store.getKey(IDBKeyRange.only(this.key));\n            return new Promise((resolve, reject) => {\n                validKeyGetter.onsuccess = () => {\n                    const key = validKeyGetter.result;\n                    if (key === undefined) {\n                        reject();\n                        return;\n                    }\n                    const readTransaction = store.get(key);\n                    readTransaction.onsuccess = () => {\n                        let object = readTransaction.result;\n                        modify(object);\n                        const requestUpdate = store.put(object, key);\n                        requestUpdate.onerror = reject;\n                        requestUpdate.onsuccess = () => resolve();\n                    };\n                    readTransaction.onerror = reject;\n                };\n            });\n        });\n    }\n}\n//# sourceMappingURL=indexed_db_task.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { IndexedDbData } from \"./indexed_db_data\";\nimport { IndexedDbOpener } from \"./indexed_db_opener\";\nimport { IndexedDBTask } from \"./indexed_db_task\";\nexport class IndexedDBTaskProvider {\n    constructor() { }\n    openDB() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const dbOpener = new IndexedDbOpener;\n            const result = yield dbOpener.openDb();\n            this.db = result.db;\n        });\n    }\n    createNewTask() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return IndexedDBTask.createNew(this.db);\n        });\n    }\n    restoreTasks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const transaction = this.db.transaction(IndexedDbData.taskObjectStoreName, \"readonly\");\n            const store = transaction.objectStore(IndexedDbData.taskObjectStoreName);\n            const readTransaction = store.getAllKeys();\n            return new Promise((resolve, reject) => {\n                readTransaction.onsuccess = () => {\n                    const keyArray = readTransaction.result;\n                    const taskArray = new Array;\n                    for (let i of keyArray) {\n                        const restoredTask = IndexedDBTask.restoreByKey(this.db, i.valueOf());\n                        taskArray.push(restoredTask);\n                    }\n                    resolve(taskArray);\n                };\n                readTransaction.onerror = reject;\n            });\n        });\n    }\n}\n//# sourceMappingURL=indexed_db_task_provider.js.map","import { getElementById } from \"../common/common\";\nexport class GithubPageOpener {\n    constructor() {\n        this.button = this.getButton();\n    }\n    getButton() {\n        const element = getElementById(GithubPageOpener.buttonId);\n        element.addEventListener('click', ev => this.onClick());\n        return element;\n    }\n    onClick() {\n        var _a;\n        (_a = window.open(GithubPageOpener.sourceUrl, '_blank')) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n}\nGithubPageOpener.buttonId = \"get_code_button\";\nGithubPageOpener.sourceUrl = \"https://github.com/f3d0rov/planner\";\n//# sourceMappingURL=github_page_opener.js.map","import { getElementById } from \"../common/common\";\nclass StyleModeState {\n    constructor(buttonSymbolId, styleClassName) {\n        this.buttonSymbol = getElementById(buttonSymbolId);\n        this.styleClassName = styleClassName;\n    }\n    hideButtonSymbol() {\n        this.buttonSymbol.classList.add(StyleModeState.hiddenSymbolClass);\n    }\n    showButtonSymbol() {\n        this.buttonSymbol.classList.remove(StyleModeState.hiddenSymbolClass);\n    }\n    applyClassToBody() {\n        document.body.classList.add(this.styleClassName);\n        console.log(`Style class set to ${this.styleClassName}`);\n    }\n    removeClassFromBody() {\n        document.body.classList.remove(this.styleClassName);\n    }\n}\nStyleModeState.hiddenSymbolClass = \"nodisplay\";\nexport class StyleSwitcher {\n    constructor() {\n        this.styles = new Array;\n        this.currentStyleIndex = 0;\n        this.lastSwitchToken = 0;\n        this.switchStyleButton = this.setupStyleButton();\n        this.setDefaultStyles();\n        this.setStyle(0);\n    }\n    setupStyleButton() {\n        const button = getElementById(StyleSwitcher.switchStyleButtonId);\n        button.addEventListener('click', ev => this.setNextStyle());\n        return button;\n    }\n    setDefaultStyles() {\n        this.styles.push(new StyleModeState('dark_mode_button', 'dark_mode'));\n        this.styles.push(new StyleModeState('light_mode_button', 'light_mode'));\n    }\n    setNextStyle() {\n        this.setBodySwitchingStyleClass();\n        this.removeStyle(this.currentStyleIndex);\n        this.currentStyleIndex = this.getNextStyleIndex();\n        this.setStyle(this.currentStyleIndex);\n    }\n    getNextStyleIndex() {\n        return (this.currentStyleIndex + 1) % this.styles.length;\n    }\n    removeStyle(index) {\n        const style = this.styles.at(index);\n        style.removeClassFromBody();\n    }\n    setStyle(index) {\n        const style = this.styles.at(index);\n        style.applyClassToBody();\n        style.hideButtonSymbol();\n        const nextStyle = this.styles.at(this.getNextStyleIndex());\n        nextStyle.showButtonSymbol();\n    }\n    setBodySwitchingStyleClass() {\n        document.body.classList.add(StyleSwitcher.bodySwitchingStyle);\n        const token = Math.random();\n        this.lastSwitchToken = token;\n        setTimeout(() => this.resetBodySwitchingStyleClass(token), 1000 * StyleSwitcher.bodySwitchingStyleTimeSec);\n    }\n    resetBodySwitchingStyleClass(token) {\n        if (this.lastSwitchToken === token) {\n            document.body.classList.remove(StyleSwitcher.bodySwitchingStyle);\n        }\n    }\n}\nStyleSwitcher.switchStyleButtonId = \"switch_style_button\";\nStyleSwitcher.bodySwitchingStyle = \"switching_style\";\nStyleSwitcher.bodySwitchingStyleTimeSec = 1;\n//# sourceMappingURL=style_switcher.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport class CachedTask {\n    constructor(underlyingTask) {\n        this.underlyingTask = underlyingTask;\n    }\n    cacheInfo() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.cachedName = yield this.underlyingTask.getName();\n            this.cachedCategory = yield this.underlyingTask.getSection();\n            this.cachedIndex = yield this.underlyingTask.getOrderIndex();\n        });\n    }\n    getName() {\n        return this.cachedName;\n    }\n    getSection() {\n        return this.cachedCategory;\n    }\n    getOrderIndex() {\n        return this.cachedIndex;\n    }\n    setName(name) {\n        this.underlyingTask.setName(name);\n        this.cachedName = name;\n    }\n    setSection(cat) {\n        this.underlyingTask.setSection(cat);\n        this.cachedCategory = cat;\n    }\n    setOrderIndex(index) {\n        this.underlyingTask.setOrderIndex(index);\n        this.cachedIndex = index;\n    }\n}\n//# sourceMappingURL=cached_task.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { CachedTask } from \"./cached_task\";\nexport class CachingTaskProvider {\n    constructor(underlyingTaskProvider) {\n        this.underlyingTaskProvider = underlyingTaskProvider;\n    }\n    createNewTask() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const newTask = yield this.underlyingTaskProvider.createNewTask();\n            const cachedTask = new CachedTask(newTask);\n            yield cachedTask.cacheInfo();\n            return cachedTask;\n        });\n    }\n    restoreTasks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const restoredTasks = yield this.underlyingTaskProvider.restoreTasks();\n            const cachedTasks = new Array;\n            for (let task of restoredTasks) {\n                const cachedTask = new CachedTask(task);\n                yield cachedTask.cacheInfo();\n                cachedTasks.push(cachedTask);\n            }\n            return cachedTasks;\n        });\n    }\n}\n//# sourceMappingURL=caching_task_provider.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { EisenhowerMatrixTaskEditor } from \"./eisenhower/eisenhower_matrix_task_editor\";\nimport { GithubPageOpener } from \"./misc/github_page_opener\";\nimport { StyleSwitcher } from \"./misc/style_switcher\";\nimport { IndexedDBTaskProvider } from \"./indexed_db_tasks/indexed_db_task_provider\";\nfunction main() {\n    logWelcomeMessage();\n    initMiscTools();\n    initTasks();\n}\nfunction logWelcomeMessage() {\n    console.log(\"%cPlanning Zen%c 1.0\", \"color:#8aee8a; font-size:32px;\", \"color: red;\");\n    console.log(\"Check out the source code, report issues and offer improvements at %chttps://github.com/f3d0rov/planner%c\", \"color:green;\");\n}\nfunction initMiscTools() {\n    const styleSwitcher = new StyleSwitcher;\n    const githubPageOpener = new GithubPageOpener();\n}\nfunction initTasks() {\n    return __awaiter(this, void 0, void 0, function* () {\n        const taskProvider = new IndexedDBTaskProvider;\n        yield taskProvider.openDB();\n        const app = new EisenhowerMatrixTaskEditor(taskProvider);\n        app.restoreTasks();\n    });\n}\nwindow.addEventListener('load', main);\n//# sourceMappingURL=main.js.map"],"names":[],"sourceRoot":""}